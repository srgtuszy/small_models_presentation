{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "‚ñ∂ Demo 1: Train Tiny Transformer",
            "type": "shell",
            "command": "python3",
            "args": ["tiny_transformer_train.py"],
            "options": { "cwd": "${workspaceFolder}/demo1_tiny_transformer" },
            "group": "build",
            "detail": "Run the Python training script (2-3 min)",
            "presentation": { "reveal": "always", "panel": "new", "clear": true }
        },
        {
            "label": "‚ñ∂ Demo 2: Desktop",
            "type": "shell",
            "command": "./gradlew",
            "args": ["run"],
            "options": { "cwd": "${workspaceFolder}/demo2_function_gemma" },
            "group": "build",
            "detail": "Launch Function Gemma demo on desktop",
            "presentation": { "reveal": "always", "panel": "new", "clear": true }
        },
        {
            "label": "‚ñ∂ Demo 2: Download Model",
            "type": "shell",
            "command": "./download_model.sh",
            "options": { "cwd": "${workspaceFolder}/demo2_function_gemma" },
            "group": "build",
            "detail": "Download FunctionGemma GGUF model for llama.cpp",
            "presentation": { "reveal": "always", "clear": true },
            "problemMatcher": []
        },
        {
            "label": "‚ñ∂ Demo 2: Android Build",
            "type": "shell",
            "command": "./gradlew",
            "args": [":composeApp:assembleDebug"],
            "options": { "cwd": "${workspaceFolder}/demo2_function_gemma" },
            "group": "build",
            "detail": "Build Android APK with llama.cpp via Llamatik",
            "presentation": { "reveal": "always", "clear": true }
        },
        {
            "label": "‚ñ∂ Demo 2: Android Install",
            "type": "shell",
            "command": "./gradlew",
            "args": [":composeApp:installDebug"],
            "options": { "cwd": "${workspaceFolder}/demo2_function_gemma" },
            "group": "build",
            "detail": "Install on connected Android device",
            "presentation": { "reveal": "always", "clear": true }
        },
        {
            "label": "‚ñ∂ Demo 2: Android (Full)",
            "dependsOn": ["‚ñ∂ Demo 2: Android Build", "‚ñ∂ Demo 2: Android Install"],
            "dependsOrder": "sequence",
            "group": { "kind": "build", "isDefault": false },
            "detail": "Build and install app on connected device",
            "problemMatcher": []
        },
        {
            "label": "‚ñ∂ Demo 2: iOS Generate Project",
            "type": "shell",
            "command": "xcodegen",
            "args": ["generate"],
            "options": { "cwd": "${workspaceFolder}/demo2_function_gemma/iosApp" },
            "group": "build",
            "detail": "Generate Xcode project from project.yml",
            "presentation": { "reveal": "silent" }
        },
        {
            "label": "‚ñ∂ Demo 2: iOS Build XCFramework",
            "type": "shell",
            "command": "./gradlew",
            "args": [":composeApp:assembleSharedXCFramework"],
            "options": { "cwd": "${workspaceFolder}/demo2_function_gemma" },
            "group": "build",
            "detail": "Build Shared.xcframework",
            "presentation": { "reveal": "always", "clear": true }
        },
        {
            "label": "‚ñ∂ Demo 2: iOS Build App",
            "type": "shell",
            "command": "xcodebuild",
            "args": [
                "-project", "iosApp.xcodeproj",
                "-scheme", "iosApp",
                "-destination", "platform=iOS Simulator,name=iPhone 16",
                "-configuration", "Debug",
                "build"
            ],
            "options": { "cwd": "${workspaceFolder}/demo2_function_gemma/iosApp" },
            "group": "build",
            "detail": "Build iOS app for simulator",
            "presentation": { "reveal": "always", "clear": true }
        },
        {
            "label": "üçé Ensure iOS Simulator",
            "type": "shell",
            "command": "${workspaceFolder}/scripts/ensure-ios-simulator.sh",
            "group": "build",
            "detail": "Boot iOS simulator if not running",
            "presentation": { "reveal": "always" },
            "problemMatcher": []
        },
        {
            "label": "‚ñ∂ Demo 2: iOS (Full)",
            "dependsOn": [
                "üçé Ensure iOS Simulator",
                "‚ñ∂ Demo 2: iOS Generate Project",
                "‚ñ∂ Demo 2: iOS Build XCFramework",
                "‚ñ∂ Demo 2: iOS Build App"
            ],
            "dependsOrder": "sequence",
            "group": "build",
            "detail": "Boot simulator, generate project, build framework, build app",
            "problemMatcher": []
        },
        {
            "label": "‚ñ∂ Demo 3: Desktop",
            "type": "shell",
            "command": "./gradlew",
            "args": ["run"],
            "options": { "cwd": "${workspaceFolder}/demo3_visual_llm" },
            "group": "build",
            "detail": "Launch Visual LLM demo on desktop",
            "presentation": { "reveal": "always", "panel": "new", "clear": true }
        },
        {
            "label": "‚ñ∂ Demo 3: Android Build",
            "type": "shell",
            "command": "./gradlew",
            "args": [":composeApp:assembleDebug"],
            "options": { "cwd": "${workspaceFolder}/demo3_visual_llm" },
            "group": "build",
            "detail": "Build Android APK",
            "presentation": { "reveal": "always", "clear": true }
        },
        {
            "label": "‚ñ∂ Demo 3: Android Install",
            "type": "shell",
            "command": "./gradlew",
            "args": [":composeApp:installDebug"],
            "options": { "cwd": "${workspaceFolder}/demo3_visual_llm" },
            "group": "build",
            "detail": "Install on connected Android device",
            "presentation": { "reveal": "always", "clear": true }
        },
        {
            "label": "‚ñ∂ Demo 3: Android (Full)",
            "dependsOn": ["üì± Ensure Android Emulator", "‚ñ∂ Demo 3: Android Build", "‚ñ∂ Demo 3: Android Install"],
            "dependsOrder": "sequence",
            "group": "build",
            "detail": "Boot emulator, build, and install app",
            "problemMatcher": []
        },
        {
            "label": "‚ñ∂ Demo 3: iOS Generate Project",
            "type": "shell",
            "command": "xcodegen",
            "args": ["generate"],
            "options": { "cwd": "${workspaceFolder}/demo3_visual_llm/iosApp" },
            "group": "build",
            "detail": "Generate Xcode project from project.yml",
            "presentation": { "reveal": "silent" }
        },
        {
            "label": "‚ñ∂ Demo 3: iOS Build XCFramework",
            "type": "shell",
            "command": "./gradlew",
            "args": [":composeApp:assembleSharedXCFramework"],
            "options": { "cwd": "${workspaceFolder}/demo3_visual_llm" },
            "group": "build",
            "detail": "Build Shared.xcframework",
            "presentation": { "reveal": "always", "clear": true }
        },
        {
            "label": "‚ñ∂ Demo 3: iOS Build App",
            "type": "shell",
            "command": "xcodebuild",
            "args": [
                "-project", "iosApp.xcodeproj",
                "-scheme", "iosApp",
                "-destination", "platform=iOS Simulator,name=iPhone 16",
                "-configuration", "Debug",
                "build"
            ],
            "options": { "cwd": "${workspaceFolder}/demo3_visual_llm/iosApp" },
            "group": "build",
            "detail": "Build iOS app for simulator",
            "presentation": { "reveal": "always", "clear": true }
        },
        {
            "label": "‚ñ∂ Demo 3: iOS (Full)",
            "dependsOn": [
                "üçé Ensure iOS Simulator",
                "‚ñ∂ Demo 3: iOS Generate Project",
                "‚ñ∂ Demo 3: iOS Build XCFramework",
                "‚ñ∂ Demo 3: iOS Build App"
            ],
            "dependsOrder": "sequence",
            "group": "build",
            "detail": "Boot simulator, generate project, build framework, build app",
            "problemMatcher": []
        },
        {
            "label": "üìΩ Slides: Start Server",
            "type": "shell",
            "command": "python3",
            "args": ["-m", "http.server", "8000"],
            "options": { "cwd": "${workspaceFolder}/slides" },
            "group": "build",
            "detail": "Start local server for presentation slides",
            "presentation": { "reveal": "always", "panel": "new" }
        }
    ]
}